# ChatGPTImageController

**ChatGPTImageController** は、macOS 向けに開発された **ChatGPT 画像生成クライアントアプリ**です。  
OpenAI API を用いてプロンプトを送信し、画像の生成・保存を行います。  
さらに、テキストファイルに列挙された複数のプロンプトを一括処理できる **バッチ実行** を搭載しています。

---

## 🧩 主な機能

### ✅ 通常モード
- OpenAI API Key を入力
- 任意の **Model**, **Prompt** を設定
- **Send** ボタンで画像生成を実行
- 生成した画像はサムネイルで表示され、保存も可能

---

### ✅ バッチモード

複数のプロンプトを自動処理し、画像を順次生成・保存します。

#### 使い方
1. 1 行につき 1 プロンプトを書いた `.txt` ファイルを用意  
   **例：**

清水寺
金閣寺
銀閣寺

2. アプリ右下の **「loadPromptFileAndExecute」** をクリック  
3. `.txt` ファイルを選択  
4. 画像の保存先フォルダを選ぶ  
5. 各行の文字列が Prompt フィールドと結合され、ChatGPT に順次送信  
**例：**

金閣寺の＋詳細なイラストを作成して

6. バッチダイアログに進捗バーが表示され、キャンセルも可能  
7. 生成した画像は自動保存され、サムネイルも随時追加される

---

## ⚠️ 画像生成に関する注意点

OpenAI の仕様により、**人物名などの固有名詞を含むプロンプトは画像生成が拒否**される場合があります。

本アプリでは固有名詞を検出した際、  
**その人物の外見を説明する安全なプロンプトを自動生成し、置き換えてから画像を生成**します。

---

## 🔧 Model について（重要）

本アプリでは初期設定として **dall-e-3** を使用しています。

### 🆕 最新モデルを使いたい場合

OpenAI の画像生成モデルは、新しいモデルが公開されても  
**API 利用の “認可（Access）” がユーザー側で有効化されていないと使用できません。**

特に以下を確認する必要があります：

- OpenAI ダッシュボードで対象モデルの API 利用が有効化されているか  
- Billing（支払い情報）が有効化されているか  
- Organization（チーム）で使用制限がかかっていないか  

➡ **認可されていないモデルは、アプリ側で選択しても使用できずエラーとなります。**

---

## ⚙️ 技術仕様

| 項目 | 内容 |
|------|------|
| 対応OS | macOS (Cocoa / AppKit) |
| 言語 | Objective-C |
| 通信 | NSURLSession（非同期） |
| API | OpenAI Chat Completions / Images API |
| UI | NSTableView, NSTextView, NSProgressIndicator |

---

## 🪄 ビルド方法

1. OpenAI API Key を取得  
2. `ChatGPTController.xcodeproj` を Xcode で開く  
3. `Command + R` でビルド・実行  
4. 初回起動時に API Key を入力  
→ 次回以降は自動ロードされます

---

## 💡 使用上の注意

- バッチ実行中はメインウィンドウのボタンが無効化されます  
- OpenAI API の利用料金はユーザーのアカウントに従って発生します  
- モデルが動作しない場合は、OpenAI 側の利用権限を確認してください  

---

## 📸 スクリーンショット

| メイン画面 | バッチ処理ダイアログ |
|------------|-----------------------|
| Main       | Progress              |

（GitHub 上で画像リンクを後で追加してください）

---

## 🧑‍💻 作者

**早川 強（AssistSystem）**  
教育アプリ開発者／AI ツール制作者

---

## 🪪 ライセンス

**MIT License**
